{% extends "base.html" %}
{% block title %}가수 검색{% endblock %}
{% block content %}
  <h1 style="margin:0 0 12px; font-size:22px;">가수 검색</h1>
  <p style="margin:0 0 12px; color:#666;">멜론 차트 DB에 저장된 데이터에서 검색합니다. (DB 업데이트 먼저!)</p>

  <form method="get" action="/artist-search" style="display:flex; gap:8px; margin:12px 0;">
    <input name="artist_query" value="{{ artist_query }}" placeholder="예: 아이유, NewJeans"
           style="flex:1; padding:10px 12px; border:1px solid #eee; border-radius:8px; font-size:14px;">
    <button type="submit"
            style="padding:10px 12px; border:1px solid #eee; border-radius:8px; background:#fff; cursor:pointer;">
      검색
    </button>
  </form>

  {% if artist_query %}
    {% if results and results|length > 0 %}
      <table style="width:100%; border-collapse:collapse; margin-top:6px;">
        <thead>
          <tr>
            <th style="text-align:left; padding:10px 6px; border-bottom:1px solid #eee; color:#666; font-weight:600;">순위</th>
            <th style="text-align:left; padding:10px 6px; border-bottom:1px solid #eee; color:#666; font-weight:600;">곡</th>
            <th style="text-align:left; padding:10px 6px; border-bottom:1px solid #eee; color:#666; font-weight:600;">가수</th>
          </tr>
        </thead>
        <tbody>
          {% for row in results %}
            <tr>
              <td style="padding:10px 6px; border-bottom:1px solid #f2f2f2;">{{ row["ranking"] }}</td>
              <td style="padding:10px 6px; border-bottom:1px solid #f2f2f2;">{{ row["title"] }}</td>
              <td style="padding:10px 6px; border-bottom:1px solid #f2f2f2;">{{ row["artist"] }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p style="color:#666;">결과가 없어요. (차트 DB 업데이트 먼저!)</p>
    {% endif %}
  {% endif %}
{% endblock %}
