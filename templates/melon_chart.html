{% extends "base.html" %}
{% block title %}멜론 차트{% endblock %}
{% block content %}
  <h1 style="margin:0 0 12px; font-size:22px;">멜론 차트</h1>

  <a href="/update-chart-db"
     style="display:inline-block; margin:6px 0 12px; font-size:13px; color:#111; text-decoration:none; border:1px solid #eee; padding:8px 10px; border-radius:8px;">
    DB 업데이트
  </a>

  {% if chart_list and chart_list|length > 0 %}
    <table style="width:100%; border-collapse:collapse; margin-top:6px;">
      <thead>
        <tr>
          <th style="text-align:left; padding:10px 6px; border-bottom:1px solid #eee; color:#666; font-weight:600;">순위</th>
          <th style="text-align:left; padding:10px 6px; border-bottom:1px solid #eee; color:#666; font-weight:600;">곡</th>
          <th style="text-align:left; padding:10px 6px; border-bottom:1px solid #eee; color:#666; font-weight:600;">가수</th>
        </tr>
      </thead>
      <tbody>
        {% for item in chart_list %}
          <tr>
            <td style="padding:10px 6px; border-bottom:1px solid #f2f2f2;">{{ item["ranking"] }}</td>
            <td style="padding:10px 6px; border-bottom:1px solid #f2f2f2;">{{ item["title"] }}</td>
            <td style="padding:10px 6px; border-bottom:1px solid #f2f2f2;">{{ item["artist"] }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p style="color:#666;">데이터가 비어있어요. 먼저 업데이트 해주세요.</p>
  {% endif %}
{% endblock %}
